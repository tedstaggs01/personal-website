<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STAGGS</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <header>
        <div class="head">
            <h1>Calculate Fuel to be fuelled into each tank!</h1>
        </div>
        <div class="instructions">
            <p>Concerns pilots who operate LX-MDT with the aim to facilitate their fuel calculations!</p>
            <p>1. Enter fuel available in each tank LEFT or RIGHT</p>
            <p>2. Enter number of sticks desired (if none input 0), calculated on 50L / stick</p>
            <p>3. Enter number of ferrys desired (if none input 0), calculated on 30L / ferry</p>
            <p>4. Enter Extra fuel required (if none input 0)</p>
            <p>Note: Calculations are based on a minimum fuel of 65L including a final reserve and alternate fuel to LUX</p>
            <p>Note: Unit given and input must be in litres & AVGAS100LL!</p>
            <p>This calculator serves only as a tool and a recalculation should be considered to make up your own mind</p>
        </div>
    </header>
    <div class="enterfuel">
        <form>
            <label for="fuelAR">Fuel Available RIGHT Tank (litres)</label>
            <input type="number" name="fuelAR" id="fuelAR"><br><br>
            <label for="fuelAR">Fuel Available LEFT Tank (litres)</label>
            <input type="number" name="fuelAL" id="fuelAL"><br><br>
            <label for="">Enter Stick(s) desired</label>
            <input type="number" name="stick" id="stick"><br><br>
            <label for="">Enter Ferry(s) desired</label>
            <input type="number" name="ferry" id="ferry"><br><br>
            <label for="">Enter EXTRA fuel desired (litres)</label>
            <input type="number" name="extra" id="extra"><br><br>
            <input type="button" onclick="calculate()" value="submit">
            <br>
            <h2>To be Fuelled in each tank</h2>
            <p id="left"></p>
            <p id="right"></p>
        </form>
        <div class="changelog">
            <h3>Development Goals to be implemented</h3>
            <h4>- Add function export PDF --> Dispatch Style</h4>
            <h4>- Add Disclaimer</h4>
            <h4>- Make everything look stylish ;)</h4>
        </div>
        <div class="feedback">
            <h2>You are welcome to submit FEEDBACK / IDEAS / IMRPOVEMENTS: <a href="mailto:ted@staggs.lu?subject=Feedback&body=Message">Send Feedback</a> (ted@staggs.lu) :-)</h2>
        </div>
        <div class="credits">
            <h2>Copyright: TED STAGGS 2022</h2>
        </div>
    </div>
    <script>
        function calculate() {
                 var fuelAR = document.getElementById("fuelAR").value; // grap input fuel in RIGHT TANK

                 var fuelAL = document.getElementById("fuelAL").value; // grap input fuel in LEFT TANK

                 var stick = document.getElementById("stick").value; // grap input STICKS desired

                 var ferry = document.getElementById("ferry").value; // grap input FERRY desired

                 var extra = document.getElementById("extra").value; // grap input extra desired

                 var nfuelAR = parseInt(fuelAR);

                 var nfuelAL = parseInt(fuelAL);

                 var fuelA = nfuelAR + nfuelAL; // fuel available
 
                 var onestick = 50; // Fuel required for 1 Stick

                 var oneferry = 30; // Fuel required for 1 Ferry

                 var nstick = parseInt(stick);
                 var nferry = parseInt(ferry);
                 var nextra = parseInt(extra);

                 var stickD = nstick * 50; // Fuel for sticks desired

                 var ferryD = nferry * 30; // Fuel for ferrys desired

                 var minimum = 65; // Alternate + Reserve: 20L + 45L 

                 var desired = stickD + ferryD + nextra + minimum; // desired fuel for start-up

                 if (desired > 332) {

                    alert("Check P.O.H. Fuel Limitations Section 2-9!");
                }

                 var required = desired - fuelA; // fuel required to be fuelled

                 var desiredL = desired / 2;

                 var desiredR = desired / 2;

                 // fuel desired L equals R thus Fuel is balanced

                 var requiredL = desiredL - fuelAL;

                 console.log(requiredL);

                 var requiredR = desiredR - fuelAR;

                 console.log(requiredR);

                 // Output this required R and Left 

                 document.getElementById("left").innerHTML = "Left tank requires " + requiredL + " litres";

                 document.getElementById("right").innerHTML = "Right tank requires " + requiredR + " litres";
        }  
    </script>
</body>
</html>